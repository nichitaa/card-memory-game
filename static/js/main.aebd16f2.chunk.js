(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{92:function(e,n,t){},93:function(e,n,t){"use strict";t.r(n);var r,a=t(0),c=t(26),o=t(10),i=t(33),s=t(12),u=t(41),d=t(9),l=t(30);!function(e){e.RESET_CURRENT_SCORE="@@GAME/RESET_CURRENT_SCORE",e.UPDATE_CURRENT_SCORE="@@GAME/UPDATE_CURRENT_SCORE",e.UPDATE_BEST_SCORE="@@GAME/UPDATE_BEST_SCORE",e.UPDATE_BEST_SCORE_INITIAL="@@GAME/UPDATE_BEST_SCORE_INITIAL",e.TOGGLE_END_GAME_MODAL="@@GAME/TOGGLE_END_GAME_MODAL"}(r||(r={}));var b,O="poke_card_memory_game",j=t(25),p=t.n(j),f=t(35);!function(e){e.TOGGLE_LOADING="@@CARD/TOGGLE_LOADING",e.FETCH_REQUEST_SUCCESS="@@CARD/FETCH_REQUEST_SUCCESS",e.FETCH_REQUEST_ERROR="@@CARD/FETCH_REQUEST_ERROR",e.SHUFFLE_CARDS="@@CARD/SHUFFLE_CARDS",e.TOGGLE_RETRO_IMAGES="@@CARD/TOGGLE_RETRO_IMAGES"}(b||(b={}));var E=t(53),x=t(54),h=function(e,n){return Math.floor(Math.random()*(n-e+1))+e},S=function(){function e(){Object(E.a)(this,e)}return Object(x.a)(e,[{key:"fetchPokes",value:function(){var e=Object(f.a)(p.a.mark((function e(){var n,t,r,a=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:10,e.next=3,fetch("https://pokeapi.co/api/v2/pokemon/?limit=".concat(n,"&offset=").concat(h(1,40)));case 3:return t=e.sent,e.next=6,t.json();case 6:return r=e.sent,e.abrupt("return",r.results);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchSinglePoke",value:function(){var e=Object(f.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(n).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}();S.instance=void 0;var g,m,_,y,R,T,v,C,G,A,k,D=function(e){return function(){var n=Object(f.a)(p.a.mark((function n(t,r){var a,c,o,i,s;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t({type:b.TOGGLE_LOADING,payload:!0}),a=S.getInstance(),n.next=5,a.fetchPokes(e);case 5:for(c=n.sent,o=[],i=[],s=0;s<c.length;s++)i.push(a.fetchSinglePoke(c[s].url));Promise.all(i).then((function(e){var n=r().cards.isRetro;return e.map((function(e){return o.push({name:e.name,img:n?e.sprites.versions["generation-iv"]["heartgold-soulsilver"].front_shiny:e.sprites.other.dream_world.front_default,id:e.id})})),t({type:b.TOGGLE_LOADING,payload:!1}),t({type:b.FETCH_REQUEST_SUCCESS,payload:o}),t(U())})),n.next=16;break;case 12:return n.prev=12,n.t0=n.catch(0),t({type:b.FETCH_REQUEST_ERROR,payload:n.t0.message}),n.abrupt("return",t({type:b.TOGGLE_LOADING,payload:!1}));case 16:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e,t){return n.apply(this,arguments)}}()},U=function(){return function(e,n){var t=function(e){for(var n=e.length-1;n>0;n--){var t=Math.floor(Math.random()*(n+1)),r=e[n];e[n]=e[t],e[t]=r}return e}(n().cards.cards);return e({type:b.SHUFFLE_CARDS,payload:t})}},L=function(){return function(e,n){var t=n().game,a=t.currentScore;if(a>=t.bestScore){var c=localStorage.getItem(O);if(c){var o=JSON.parse(c);o.push(a),localStorage.setItem(O,JSON.stringify(o))}else localStorage.setItem(O,JSON.stringify([a]));e({type:r.UPDATE_BEST_SCORE})}return e({type:r.TOGGLE_END_GAME_MODAL,payload:{bool:!0,score:a}}),e({type:r.RESET_CURRENT_SCORE})}},M=function(e){return function(n,t){n({type:r.UPDATE_CURRENT_SCORE,payload:e});var a=t().game;if(a.currentScore>=a.bestScore)return n({type:r.UPDATE_BEST_SCORE})}},w=function(){return function(e){return e({type:r.RESET_CURRENT_SCORE})}},N=t(1),I=d.default.div(g||(g=Object(o.a)(["\n  height: 100%;\n  width: 100%;\n  background-image: url(",");\n  background-size: contain;\n  background-repeat: no-repeat;\n  border-radius: 3px;\n"])),(function(e){return e.img})),P=d.default.div(m||(m=Object(o.a)(["\n  flex: 1;\n  transition: ease 100ms;\n  background: rgba(0, 0, 0, 0.0);\n  text-align: center;\n  font-family: 'PokemonSolid', 'Maven Pro', sans-serif;\n  letter-spacing: 3px;\n  font-weight: 200;\n  font-size: 20px;\n  color: rgba(0, 0, 0, 0.8)\n"]))),B=d.default.div(_||(_=Object(o.a)(["\n  transition: ease 350ms;\n  margin: 5px;\n  display: flex;\n  flex-direction: column;\n  border: 3px solid rgba(0, 0, 0, 0);\n  box-shadow: rgba(0, 0, 0, 0.01) 0 1px 4px;\n  background: rgba(0, 0, 0, 0.04);\n  border-radius: 4px;\n  padding: 10px;\n  width: 100%;\n  max-width: 230px;\n  height: 260px;\n\n  &:hover {\n    background: rgba(0, 0, 0, 0.07);\n    box-shadow: rgba(0, 0, 0, 0.2) 0 12px 28px 0, rgba(0, 0, 0, 0.1) 0 2px 4px 0, rgba(255, 255, 255, 0.05) 0 0 0 1px inset;\n    cursor: pointer;\n\n    "," {\n      color: rgba(0, 117, 190, 1);\n    }\n  }\n"])),P),F=function(e){var n=e.poke,t=Object(s.d)();return Object(N.jsxs)(B,{onClick:function(){return t((e=n.id,function(n,t){var r=t().game.selected.find((function(n){return n===e}));n(U()),n(r?L():M(e))}));var e},children:[Object(N.jsx)(I,{img:n.img}),Object(N.jsx)(P,{children:n.name})]})},H=t(98),Q=t(99),J=s.e,z=t(96),W=d.default.div(y||(y=Object(o.a)(["\n  box-shadow: rgba(0, 0, 0, 0.01) 0 1px 4px;\n  margin: 5px;\n  padding: 10px;\n  border-radius: 3px;\n  width: 100%;\n  text-align: center;\n"]))),X=d.default.div(R||(R=Object(o.a)(["\n  font-family: 'PokemonSolid', 'Maven Pro', sans-serif;\n  letter-spacing: 3px;\n  font-weight: normal;\n  font-size: 22px;\n  color: #FB1B1B;\n"]))),K=d.default.div(T||(T=Object(o.a)(["\n  .ant-btn {\n    height: 100%;\n    border: 2px solid;\n    border-radius: 4px;\n  }\n\n  button.ant-btn.ant-btn-text {\n    color: #FB1B1B;\n    letter-spacing: 3px;\n  }\n"]))),V=function(){var e=J((function(e){return e})),n=e.game,t=n.bestScore,c=n.currentScore,o=e.cards.isRetro,i=Object(s.d)();Object(a.useEffect)((function(){i((function(e){var n=localStorage.getItem(O);if(n){var t=JSON.parse(n);return e({type:r.UPDATE_BEST_SCORE_INITIAL,payload:Math.max.apply(Math,Object(l.a)(t))})}}))}),[i]);return Object(N.jsx)(W,{children:Object(N.jsxs)(H.a,{gutter:[10,10],justify:"space-between",children:[Object(N.jsx)(Q.a,{xs:24,sm:12,md:8,lg:8,xl:8,children:Object(N.jsxs)(H.a,{gutter:[10,10],children:[Object(N.jsx)(Q.a,{xs:24,sm:24,md:12,lg:12,xl:12,children:Object(N.jsx)(X,{children:"Generation"})}),Object(N.jsx)(Q.a,{xs:24,sm:24,md:11,lg:11,xl:11,children:Object(N.jsx)(X,{children:Object(N.jsx)(K,{children:Object(N.jsx)(z.a,{block:!0,type:"text",onClick:function(){var e;i((e=!o,function(n){return n({type:b.TOGGLE_RETRO_IMAGES,payload:e}),n(w()),n(D(24))}))},children:o?"gen-iv":"dream-world"})})})})]})}),Object(N.jsx)(Q.a,{xs:24,sm:12,md:8,lg:8,xl:8,children:Object(N.jsxs)(X,{children:["Current Score : ",c]})}),Object(N.jsx)(Q.a,{xs:24,sm:12,md:8,lg:8,xl:8,children:Object(N.jsx)(X,{children:c>=t&&0!==t?"NEW Best Score : ".concat(t):"Best Score : ".concat(t)})})]})})},q=Object(d.keyframes)(v||(v=Object(o.a)(["\n  0% {\n    margin-bottom: 0;\n  }\n  50% {\n    margin-bottom: 15px\n  }\n  100% {\n    margin-bottom: 0\n  }\n"]))),Y=d.default.div(C||(C=Object(o.a)(["\n  display: flex;\n  align-items: flex-end;\n  justify-content: center;\n  margin-top: 20%;\n"]))),Z=d.default.div(G||(G=Object(o.a)(["\n  background-color: black;\n  border-radius: 50%;\n  width: 10px;\n  height: 10px;\n  margin: 0 5px;\n  /* Animation */\n  animation: "," 0.5s linear infinite;\n  animation-delay: ",";\n"])),q,(function(e){return e.delay})),$=function(){return Object(N.jsxs)(Y,{children:[Object(N.jsx)(Z,{delay:"0s"}),Object(N.jsx)(Z,{delay:".1s"}),Object(N.jsx)(Z,{delay:".2s"})]})},ee=t(70),ne=t(42),te=t.n(ne).a.styled(A||(A=Object(o.a)(["\n  width: 23rem;\n  height: 13rem;\n  display: flex;\n  padding: 1.5rem;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(239, 252, 213, 1);\n  opacity: ",";\n  transition : all 0.3s ease-in-out;\n  border-radius: 3px;\n "])),(function(e){return e.opacity})),re=Object(d.default)(ne.BaseModalBackground)(k||(k=Object(o.a)(["\n  opacity: ",";\n  transition: all 0.3s ease-in-out;\n"])),(function(e){return e.opacity}));function ae(){var e=Object(s.d)(),n=J((function(e){return e.game})),t=n.endGameModal,c=n.endGameScore,o=n.bestScore,i=Object(a.useState)(0),u=Object(ee.a)(i,2),d=u[0],b=u[1],j=function(){var n;b(0),e((n=!t,function(e){return e({type:r.TOGGLE_END_GAME_MODAL,payload:{bool:n,score:0}})}))};return Object(N.jsx)(ne.ModalProvider,{backgroundComponent:re,children:Object(N.jsxs)(te,{isOpen:t,afterOpen:function(){setTimeout((function(){b(1)}),100)},beforeClose:function(){return new Promise((function(e){b(0),setTimeout(e,300)}))},onBackgroundClick:j,onEscapeKeydown:j,opacity:d,backgroundProps:{opacity:d},children:[Object(N.jsx)(X,{children:"Game Over !"}),Object(N.jsx)("br",{}),Object(N.jsx)(X,{children:function(){var e=localStorage.getItem(O);if(e){var n=JSON.parse(e),t=Math.max.apply(Math,Object(l.a)(n));return c===t}return!1}()?Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(X,{children:["NEW Best Score : ",c]})}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(X,{children:["Score : ",c]}),Object(N.jsx)("br",{}),Object(N.jsxs)(X,{children:["Best : ",o]})]})})]})})}var ce,oe,ie=function(){var e=Object(s.d)(),n=J((function(e){return e.cards})),t=n.loading,r=n.cards;return Object(a.useEffect)((function(){e(D(24))}),[e]),Object(N.jsxs)("div",{style:{width:"100%"},children:[Object(N.jsx)(V,{}),Object(N.jsx)(ae,{}),t?Object(N.jsx)($,{}):Object(N.jsx)(H.a,{gutter:[8,8],children:r.map((function(e){return Object(N.jsx)(Q.a,{xs:24,sm:12,md:8,lg:6,xl:4,style:{display:"flex",justifyContent:"center"},children:Object(N.jsx)(F,{poke:e})},e.name)}))})]})},se=t.p+"static/media/PokemonSolid.80f0e812.woff2",ue=Object(d.createGlobalStyle)(ce||(ce=Object(o.a)(["\n  @font-face {\n    font-family: 'PokemonSolid';\n    src: local('PokemonSolid'), local('PokemonSolid'),\n    url(",") format('woff2');\n    font-weight: 300;\n    font-style: normal;\n  }\n"])),se),de=d.default.div(oe||(oe=Object(o.a)(["\n  background: rgba(239, 252, 213, 1);\n  width: 100%;\n  min-height: 100vh;\n  padding: 10px;\n"]))),le=function(e){var n=e.store,t=e.history;return Object(N.jsx)(s.a,{store:n,children:Object(N.jsxs)(i.a,{history:t,children:[Object(N.jsx)(ue,{}),Object(N.jsx)(de,{children:Object(N.jsx)(a.Suspense,{fallback:Object(N.jsx)("h1",{children:"Loading..."}),children:Object(N.jsx)(u.c,{children:Object(N.jsx)(u.a,{path:"/",exact:!0,render:function(){return Object(N.jsx)(ie,{})}})})})})]})})},be=(t(91),t(92),t(31)),Oe=t(51),je=t(18),pe=t(7),fe={isRetro:!1,loading:!1,error:null,cards:[]},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case b.TOGGLE_LOADING:return Object(pe.a)(Object(pe.a)({},e),{},{loading:n.payload});case b.FETCH_REQUEST_ERROR:return Object(pe.a)(Object(pe.a)({},e),{},{error:n.payload});case b.FETCH_REQUEST_SUCCESS:case b.SHUFFLE_CARDS:return Object(pe.a)(Object(pe.a)({},e),{},{cards:n.payload});case b.TOGGLE_RETRO_IMAGES:return Object(pe.a)(Object(pe.a)({},e),{},{isRetro:n.payload});default:return e}},xe={endGameModal:!1,endGameScore:0,currentScore:0,bestScore:0,selected:[]},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case r.RESET_CURRENT_SCORE:return Object(pe.a)(Object(pe.a)({},e),{},{currentScore:0,selected:[]});case r.UPDATE_BEST_SCORE:return Object(pe.a)(Object(pe.a)({},e),{},{bestScore:e.currentScore});case r.UPDATE_CURRENT_SCORE:return Object(pe.a)(Object(pe.a)({},e),{},{currentScore:e.currentScore+1,selected:[].concat(Object(l.a)(e.selected),[n.payload])});case r.UPDATE_BEST_SCORE_INITIAL:return Object(pe.a)(Object(pe.a)({},e),{},{bestScore:n.payload});case r.TOGGLE_END_GAME_MODAL:return Object(pe.a)(Object(pe.a)({},e),{},{endGameModal:n.payload.bool,endGameScore:n.payload.score});default:return e}},Se=function(e){return Object(be.b)({cards:Ee,game:he,router:Object(i.b)(e)})},ge=t(67),me=t(68),_e=Object(ge.createLogger)({collapsed:!0}),ye=[me.a,_e],Re=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||be.c,Te=Object(je.a)({basename:"/card-memory-game"}),ve=Se(Te),Ce=Object(be.d)(ve,{},Re(be.a.apply(void 0,[Object(Oe.a)(Te)].concat(ye)))),Ge=Object(N.jsx)(le,{store:Ce,history:Te});Object(c.render)(Ge,document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.aebd16f2.chunk.js.map